{"version":3,"sources":["app.js","services.js","config.js","directives.js","filters.js","controllers.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"nQueue.js","sourcesContent":["/*\n    Main File AngularJS\n */\n(function(){\n    'use strict';\n    angular.\n            module('nQueue', [\n            'ui.router',\n            'oc.lazyLoad',\n            'satellizer',\n            'ui.bootstrap',\n            'btford.socket-io',\n            'angularMoment'\n        ]);\n})();","/**\n * Services\n */\n\nangular\n    .module('nQueue')\n    .factory('QueueModel', QueueModel);\n\n    /**\n     * Socket\n     * @param socketFactory\n     * @returns {*}\n     */\n    function socket(socketFactory){\n        var mySocket = socketFactory({\n            ioSocket: io.connect()\n        });\n        return mySocket;\n    }\n\n    /**\n     * Listar para Totem\n     * @param $http\n     * @returns {{get: get}}\n     */\n    function QueueModel($http){\n        return {\n            listToQueue: function(){\n                return $http.get('/list-to-queue');\n            },\n            addInQueue: function($queue){\n                return $http.post('/add-in-queue', {queue: $queue});\n            }\n        }\n    }\n\n    function addInQueue($http){\n        return function($queue){\n            return $http.get('/add-in-queue', $queue);\n        }\n    }","/**\n * Configs and Routers\n * @param $stateProvider\n * @param $urlRouterProvider\n * @param $ocLazyLoadProvider\n */\nfunction config($stateProvider, $urlRouterProvider, $ocLazyLoadProvider){\n\n    $urlRouterProvider.otherwise(\"/\");\n\n    $ocLazyLoadProvider.config({\n        debug: true\n    });\n\n    $stateProvider\n        // Solicitar a Senha\n        .state('home', {\n            url: '/',\n            templateUrl: 'partials/home/index.html',\n            data: {\n                specialClass: 'nqueueBg',\n                pageTitle: 'Retire sua senha - Cart√≥rio Ayache'\n            }\n        })\n        // Logar no Sistema\n        .state('auth', {\n            url: '/login',\n            templateUrl: 'partials/auth/login.html',\n            controller: 'AuthCtrl as vm',\n            data: { pageTitle: 'Login', specialClass: 'gray-bg'}\n        })\n\n\n}\n\n\nangular\n    .module('nQueue')\n    .config(config)\n    .run(function($rootScope, $state, amMoment){\n        $rootScope.$state = $state;\n\n        // MomentJS locale text in Portugues.\n        amMoment.changeLocale('pt-br');\n    });\n\n","/**\n * Titulo da Pagina usar no public/app/config.js\n * @use data: { pageTitle: \"Name Page\" }\n * @param $rootScope\n * @param $timeout\n * @returns {{link: link}}\n */\nfunction pageTitle($rootScope, $timeout) {\n    return {\n        link: function(scope, element) {\n            var listener = function(event, toState, toParams, fromState, fromParams) {\n                // Default title - load on Dashboard 1\n                var title = 'nQueue | Gerenciador de Filas';\n                // Create your own title pattern\n                if (toState.data && toState.data.pageTitle) title = 'nQueue | ' + toState.data.pageTitle;\n                $timeout(function() {\n                    element.text(title);\n                });\n            };\n            $rootScope.$on('$stateChangeStart', listener);\n        }\n    }\n};\n\nfunction currentTime($timeout, dateFilter) {\n    // return the directive link function. (compile function not needed)\n    return function(scope, element, attrs) {\n        var format,  // date format\n            timeoutId; // timeoutId, so that we can cancel the time updates\n\n        // used to update the UI\n        function updateTime() {\n            element.text(dateFilter(new Date(), format));\n        }\n\n        // watch the expression, and update the UI on change.\n        scope.$watch(attrs.currentTime, function(value) {\n            format = value;\n            updateTime();\n        });\n\n        // schedule update in one second\n        function updateLater() {\n            // save the timeoutId for canceling\n            timeoutId = $timeout(function() {\n                updateTime(); // update DOM\n                updateLater(); // schedule another update\n            }, 1000);\n        }\n\n        // listen on DOM destroy (removal) event, and cancel the next UI update\n        // to prevent updating time ofter the DOM element was removed.\n        element.bind('$destroy', function() {\n            $timeout.cancel(timeoutId);\n        });\n\n        updateLater(); // kick off the UI update process.\n    }\n}\n/**\n * Horas do Auto Atendimento HH:mm:ii\n * @param $timeout\n * @returns {{restrict: string, template: string, controller: controller}}\n */\nfunction ngClock($timeout){\n    return {\n        restrict: 'E',\n        template:'<span class=\"time\">'\n        + '<span class=\"hours\">'\n        + '{{date.getHours() | pad}}'\n        + '</span>:<span class=\"minutes\">'\n        + '{{date.getMinutes() | pad}}'\n        + '</span>:<span class=\"seconds\">'\n        + '{{date.getSeconds() | pad}}'\n        + '</span>'\n        + '</span>',\n        controller: function($scope, $element) {\n            $scope.date = new Date();\n            var tick = function() {\n                $scope.date = new Date();\n                $timeout(tick, 1000);\n            };\n            $timeout(tick, 1000);\n        }\n    }\n}\n\n/**\n * Mask para CPF e CNPJ\n * @returns {{require: string, restrict: string, link: link}}\n */\nfunction maskCpfCnpj(){\n    return {\n        require: 'ngModel',\n        restrict: \"A\",\n        link: function(scope, element, attrs){\n            scope.$watch(attrs.ngModel, function (v) {\n                var cpfcnpj = v;\n                if(cpfcnpj != undefined) {\n                    var cMask = v.replace(/\\D/g, '').length <= 11 ? '000.000.000-00' : '00.000.000/0000-00';\n                    element.mask(cMask);\n                }\n            })\n        }\n    };\n}\n\n/**\n * Uppercase Directive\n * @returns {{require: string, link: link}}\n */\nfunction capitalize(){\n    return {\n        require: 'ngModel',\n        link: function(scope, element, attrs, modelCtrl) {\n            modelCtrl.$parsers.push(function(input) {\n                return input ? input.toUpperCase() : \"\";\n            });\n            element.css(\"text-transform\",\"uppercase\");\n        }\n    };\n}\n\n/**\n * Style to Radio and Checkbox\n * @param $timeout\n * @returns {{restrict: string, require: string, link: link}}\n */\nfunction icheck($timeout) {\n    return {\n        restrict: 'A',\n        require: 'ngModel',\n        link: function($scope, element, $attrs, ngModel) {\n            return $timeout(function() {\n                var value;\n                value = $attrs['value'];\n\n                $scope.$watch($attrs['ngModel'], function(newValue){\n                    $(element).iCheck('update');\n                })\n\n                return $(element).iCheck({\n                    checkboxClass: 'icheckbox_square-green',\n                    radioClass: 'iradio_square-green'\n\n                }).on('ifChanged', function(event) {\n                    if ($(element).attr('type') === 'checkbox' && $attrs['ngModel']) {\n                        $scope.$apply(function() {\n                            return ngModel.$setViewValue(event.target.checked);\n                        });\n                    }\n                    if ($(element).attr('type') === 'radio' && $attrs['ngModel']) {\n                        return $scope.$apply(function() {\n                            return ngModel.$setViewValue(value);\n                        });\n                    }\n                });\n            });\n        }\n    };\n}\n\nfunction minimalizaSidebar($timeout) {\n    return {\n        restrict: 'A',\n        template: '<a class=\"navbar-minimalize minimalize-styl-2 btn btn-primary \" href=\"\" ng-click=\"minimalize()\"><i class=\"fa fa-bars\"></i></a>',\n        controller: function ($scope, $element) {\n            $scope.minimalize = function () {\n                $(\"body\").toggleClass(\"mini-navbar\");\n                if (!$('body').hasClass('mini-navbar') || $('body').hasClass('body-small')) {\n                    // Hide menu in order to smoothly turn on when maximize menu\n                    $('#side-menu').hide();\n                    // For smoothly turn on menu\n                    setTimeout(\n                        function () {\n                            $('#side-menu').fadeIn(400);\n                        }, 200);\n                } else if ($('body').hasClass('fixed-sidebar')){\n                    $('#side-menu').hide();\n                    setTimeout(\n                        function () {\n                            $('#side-menu').fadeIn(400);\n                        }, 100);\n                } else {\n                    // Remove all inline style from jquery fadeIn function to reset menu state\n                    $('#side-menu').removeAttr('style');\n                }\n            }\n        }\n    };\n}\n\nfunction sideNavigation($timeout) {\n    return {\n        restrict: 'A',\n        link: function(scope, element) {\n            // Call the metsiMenu plugin and plug it to sidebar navigation\n            $timeout(function(){\n                element.metisMenu();\n\n            });\n        }\n    };\n}\n\nfunction fullScroll($timeout){\n    return {\n        restrict: 'A',\n        link: function(scope, element) {\n            $timeout(function(){\n                element.slimscroll({\n                    height: '100%',\n                    railOpacity: 0.9\n                });\n\n            });\n        }\n    };\n}\n\nfunction slimScroll($timeout){\n    return {\n        restrict: 'A',\n        scope: {\n            boxHeight: '@'\n        },\n        link: function(scope, element) {\n            $timeout(function(){\n                element.slimscroll({\n                    height: scope.boxHeight,\n                    railOpacity: 0.9\n                });\n\n            });\n        }\n    };\n}\n\nangular\n    .module('nQueue')\n    .directive('pageTitle', pageTitle)\n    .directive('currentTime', currentTime)\n    .directive('ngClock', ngClock)\n    .directive('maskCpfCnpj', maskCpfCnpj)\n    .directive('capitalize', capitalize)\n    .directive('icheck', icheck)\n    .directive('minimalizaSidebar', minimalizaSidebar)\n    .directive('sideNavigation', sideNavigation)\n    .directive('fullScroll', fullScroll)\n    .directive('slimScroll', slimScroll);","function pad() {\n    return function(num) {\n        return (num < 10 ? '0' + num : num); // coloca o zero na frente\n    };\n}\n/**\n * Mask to CPF/CNPJ in {{ documento | CPF }}\n * @returns {Function}\n */\nfunction cpfcnpj(){\n    return function(input) {\n        if(input != undefined)\n        {\n            if(input.length <= 11){\n                var str = input+ '';\n                str = str.replace(/\\D/g,'');\n                str = str.replace(/(\\d{3})(\\d)/,\"$1.$2\");\n                str = str.replace(/(\\d{3})(\\d)/,\"$1.$2\");\n                str = str.replace(/(\\d{3})(\\d{1,2})$/,\"$1-$2\");\n                return str;\n            }else{\n                var str = input+ '';\n                str = str.replace(/\\D/g,'');\n                str = str.replace(/(\\d{2})(\\d)/,\"$1.$2\");\n                str = str.replace(/(\\d{3})(\\d)/,\"$1.$2\");\n                str = str.replace(/(\\d{3})(\\d)/,\"$1/$2\");\n                str = str.replace(/(\\d{4})(\\d{1,2})$/,\"$1-$2\");\n                return str;\n            }\n        }\n    };\n}\n\nfunction attend(){\n    return function(input){\n        if(input != undefined){\n            if(input==1){\n                return \"Normal\";\n            }else if(input==2){\n                return \"Preferencial\";\n            }else if(input==3){\n                return \"Mensalista\"\n            }\n        }\n    }\n}\n\nangular\n    .module('nQueue')\n    .filter('pad', pad)\n    .filter('cpfcnpj', cpfcnpj)\n    .filter('attend', attend);","/**\n * Controllers AngularJS\n */\nfunction MainCtrl($scope){\n    $scope.teste = 'Testando';\n}\n\nfunction AuthCtrl(){\n\n}\n\nfunction HomeCtrl($scope, QueueModel){\n\n    var vm = this;\n\n    $scope.list = [];\n    QueueModel\n        .listToQueue()\n        .success(function(data){\n            $scope.list = data;\n        });\n\n\n    vm.getQueue = function($queue){\n        QueueModel.\n            addInQueue($queue)\n            .success(function(data){\n                //socket.emit(\"add:Queue\", data);\n                self._waitPrinter = false;\n        })\n\n    };\n\n    /**\n     * Get Date Totem\n     * @returns {string}\n     */\n    vm.dateDay = function(){\n        var today = new Date();\n        var dd = today.getDate();\n        var mm = today.getMonth()+1; //January is 0!\n\n        var yyyy = today.getFullYear();\n        if(dd<10){\n            dd='0'+dd\n        }\n        if(mm<10){\n            mm='0'+mm\n        }\n        var today = dd+'/'+mm+'/'+yyyy;\n        return today;\n    };\n\n    /**\n     * Reload Page\n     */\n    vm.refresh = function(){\n        location.reload();\n    };\n}\n\nangular\n    .module('nQueue')\n    .controller('MainCtrl', MainCtrl)\n    .controller('AuthCtrl', AuthCtrl)\n    .controller('HomeCtrl', HomeCtrl)\n;"],"sourceRoot":"/source/"}